<!doctype html>
<html>

<head>

  <title>
    
      If You&#8217;re Not Going to Use Attribution, I&#8217;ll Just Do It For You | nodes
    
  </title>

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta charset="utf-8">

  
  <link rel="stylesheet" href="/assets/css/main.css">
  <link rel="stylesheet" href="/assets/css/syntax.css">
  <!-- Use Atom -->
  <!-- <link type="application/atom+xml" rel="alternate" href="/nodes/_site/feed.xml" title="nodes" /> -->
  <!-- Use RSS-2.0 -->
  <link href="/rss-feed.xml" type="application/rss+xml" rel="alternate" title="nodes | "/>

  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Code+Pro">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Quattrocento+Sans">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css">

  <!-- Comment engine driven by Firebase -->
  <script src="https://cdn.firebase.com/js/client/2.2.1/firebase.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.11.0/moment.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/blueimp-md5/2.1.0/js/md5.js"></script>
  <script src="https://ohheybrian.com/nodes/_site/js/blog.js"></script>

  <script>
  // (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  // (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  // m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  // })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  //
  // ga('create', '', 'auto');
  // ga('send', 'pageview');
</script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<!-- <script async src="https://www.googletagmanager.com/gtag/js?id=UA-56616200-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-56616200-2');
</script> -->



</head>


<body>

  <div class="container">
    <header class="masthead">
  <h1 class="masthead-title">
    <a href="/">nodes</a>
  </h3>
</header>

    <div class="menu">
  <div class="salutation">
    <h1>I'm Brian. I have other websites.</h1>
  </div>
  <nav class="menu-content">
    
      <a href="///ohheybrian.com">home</a>
    
      <a href="///ohheybrian.com/privacy">privacy</a>
    
      <a href="pages/docutube.html">DocuTube</a>
    
      <a href="pages/doc-emailer.html">Doc Emailer</a>
    
  </nav>
  <nav class="social-icons">
    
      <a href="https://www.github.com/bennettscience" target="_blank"><i class="fa fa-github" aria-hidden="true"></i></a>
    
      <a href="https://twitter.com/bennettscience" target="_blank"><i class="fa fa-twitter" aria-hidden="true"></i></a>
    
      <a href="mailto:brian@ohheybrian.com" target="_blank"><i class="fa fa-envelope" aria-hidden="true"></i></a>
    
      <a href="https://flickr.com/photos/bennettscience" target="_blank"><i class="fa fa-flickr" aria-hidden="true"></i></a>
    
      <a href="/rss-feed.xml" target="_blank"><i class="fa fa-rss-square" aria-hidden="true"></i></a>
    
  </nav>
  <hr />
  <div class="generic-text">
    <h2>contact</h2>
    <p>
      To reach me, send an email to <a href="mailto:brian@ohheybrian.com">brian [at] ohheybrian [dot] com</a>.
    </p>
    <p>
      Do not send marketing requests, guest post solicitations, or link-for-link offers. I don't want them.
    </p>
  </div>
  <hr />
  <div class="generic-text">
    <h2>archive</h2>
    <a href="/pages/archive.html">See all posts by Month/Year</a>
  </div>
</div>

    <div class="post-container">
      <h1>
  If You&#8217;re Not Going to Use Attribution, I&#8217;ll Just Do It For You
</h1>



<p>It’s important to use attribution online. When you pull a picture, make sure you tell other people where it’s from. Some sites make it easy for you to do that, others…not so much. Flickr used to be <em>great</em> at making attribution easy, but their latest redesigns have made it harder to accomplish. <a href="http://twitter.com/cogdog">Alan Levine</a> has a <a href="http://cogdogblog.com/flickr-cc-helper/">great CC attribution gizmo</a> which makes it super easy to both give credit to and share a photo from Flickr. I use it all. the. time.</p>

<p>WordPress is great – I use it for this blog and my class websites. I even ran my own multi-site for my students one year using WordPress because my administrators at the time didn’t want blogs out in the wild. So, I did it for them. Anyways, WordPress doesn’t have the best method for featured images. You can’t use an image source URL to share it…you need to download the image and then reupload it to your site. It’s really easy to “forget” to post attribution.</p>

<p>I’ve been playing with another open source CMS called <a href="http://www.anchorcms.com">Anchor</a>. It’s <em>very</em> bare bones right now, but it’s super flexible in terms of what you can do. Because I didn’t have enough going on (read sarcasm there…) I decided I wanted to create my own custom theme for an Anchor blog. I’ve got a <a href="http://dev.ohheybrian.com/anchor/">demo site</a> up right now (which will be changing soon…updates are coming!) and one thing I <em>had</em> to include was featured images from a URL.</p>

<p>The next step was to get attribution in there…not just a link back, but an actual box of text with the post title at the very least. Flickr has a <a href="https://www.flickr.com/services/api/">powerful set of APIs</a> which can be used to get all sorts of data which you can then bend to your will.</p>

<p><em>For those too wary for code, here’s the <strong>tl;dr</strong> – this new blog theme in Anchor will automagically attribute featured images you include. All Flickr images are coming soon.</em></p>

<p><strong>The problem</strong> – In order to use the Flickr API, you need – at the very least – a photo ID. Because I’m attaching the photo using CSS, I have the source URL of the image. Here’s an example:</p>

<p><img src="http://content.screencast.com/users/TSCBennett/folders/Snagit/media/37b459f3-161e-42ed-a6b6-9ecb08e625e7/2014-09-23_21-36-16.png" alt="" /></p>

<p>I needed a way to get that snippet of the URL into the API call. Unfortunately, there is no one step that can do this. So, I went and gave myself a crash course in <a href="http://en.wikipedia.org/wiki/Regular_expression">regular expression</a> to get that information into a usable form.</p>

<p>Of course, there’s another issue in my way. The CSS holding the URL for the image has characters in the syntax which I can’t use:</p>

<p>The solution: use another regular expression snippet to pull it out.</p>

<p>If you’re following along, if you put <code class="highlighter-rouge">console.log(bg)</code> into your editor, it’ll return a clean URL.</p>

<p>Now that we have the URL, it’s time to extract the photo ID <em>only</em> because that can be used in the Flickr API to build the attribution URL.</p>

<p>Like I said earlier, I gave myself a <em>very</em> crash course in regular expression, so this very…<em>very</em> ugly expression<sup><a href="#foot1">1</a></sup> strips everything except for the photo ID and stores it in a variable for later.</p>

<p>OK, we got the URL, then we got the photo ID. Now, it’s time to build the URL to request information from Flickr about this picture.</p>

<p>This is the URL that we use in the final step of the process to get information from Flickr and then build one more URL, which becomes the attribution link.</p>

<p>This last asks for JSON information from Flickr and then we use jQuery to apply it to a <code class="highlighter-rouge">div</code> created in the HTML to hold the information. Flickr URLs all have the <a href="https://www.flickr.com/services/api/misc.urls.html">same structure</a>, so building a link back to the owner’s page is easy. I just pulled out their user ID number and reattached the photo ID we grabbed earlier.</p>

<p>If you want to play with it yourself – changing the photo and everything – you can do that in this <a href="http://codepen.io/bbennett/pen/qAJCB">CodePen demo</a> I set up during testing.</p>

<p>This is a lot of work to automate the link backwards, but hopefully, it’ll make it easier to add attribution back with <em>every</em> picture, not just ones you remember to grab information for. Again, this <strong>only work with Flickr</strong> at the moment, and only for featured images at that. I’m planning on expanding this to any image in a post pulled from Flickr as soon as I have time. Or, you could do it. Just share it back when you do.</p>

<p><small id="foot1">1. no one said code had to be pretty to work</small></p>



<span class="post-date">
  Written on
  
  September
  23rd
    ,
  2014
  by
  
    Brian Bennett
  
</span>
<span class="post-cat">
  Categorized in: 
  
  <a href="/categories/#Creative">Creative</a>
 &nbsp;
 
  <a href="/categories/#How To">How To</a>
 
 
</span>
<span class="post-tags">
  Tagged: 
</span>

<hr />

<div class="post-date">Feel free to share!</div>
  <div class="sharing-icons">
    <a href="https://twitter.com/intent/tweet?text=If You&#8217;re Not Going to Use Attribution, I&#8217;ll Just Do It For You&amp;url=https://blog.ohheybrian.com/2014/09/if-youre-not-going-to-use-attribution-ill-just-do-it-for-you/&amp;via=bennettscience" target="_blank"><i class="fa fa-twitter" aria-hidden="true"></i></a>
    <a href="https://www.facebook.com/sharer/sharer.php?u=https://blog.ohheybrian.com/2014/09/if-youre-not-going-to-use-attribution-ill-just-do-it-for-you/&amp;title=If You&#8217;re Not Going to Use Attribution, I&#8217;ll Just Do It For You" target="_blank"><i class="fa fa-facebook" aria-hidden="true"></i></a>
    <a href="https://plus.google.com/share?url=https://blog.ohheybrian.com/2014/09/if-youre-not-going-to-use-attribution-ill-just-do-it-for-you/" target="_blank"><i class="fa fa-google-plus" aria-hidden="true"></i></a>
  </div>
</div>


<div class="comments">
  <h2>Leave a comment</h2>
  <form id="comment" >
    <label for="message">Message</label>
    <textarea id="message" ></textarea>

    <label for="name">Name</label>
    <input type="text" id="name" value="">

    <label for="email">Email</label>
    <input type="email" id="email" value="" placeholder="Your email is never shared">

    <input type="submit" value="Submit Comment">
    <p class="hide" id="toast">Thank you for your comment. It will appear after moderation.<p>
  </form>
  <div id="comment-list"></div>
</div>

    </div>

    <footer class="footer">
  
    <a href="https://www.github.com/bennettscience" target="_blank"><i class="fa fa-github" aria-hidden="true"></i></a>
  
    <a href="https://twitter.com/bennettscience" target="_blank"><i class="fa fa-twitter" aria-hidden="true"></i></a>
  
    <a href="mailto:brian@ohheybrian.com" target="_blank"><i class="fa fa-envelope" aria-hidden="true"></i></a>
  
    <a href="https://flickr.com/photos/bennettscience" target="_blank"><i class="fa fa-flickr" aria-hidden="true"></i></a>
  
    <a href="/rss-feed.xml" target="_blank"><i class="fa fa-rss-square" aria-hidden="true"></i></a>
  
  <div class="post-date"><a href="/nodes/_site/menu/about.html">nodes |  by Brian Bennett</a></div>
</footer>


  </div>

</body>
</html>
