---
title: 'Moving from WordPress to Jekyll'
author: Brian Bennett
layout: post
image: https://c1.staticflickr.com/5/4562/38579893751_b3b89701b7_c.jpg
category: Code
tags: ["wordpress", "jekyll", "blogging", "how-to"]
---
_This is a long post in several parts. Jump to different sections using the links below._

- <a href="#intro">Introduction</a>
- <a href="#export">Exporting WordPress</a>
- <a href="#hosting">Hosting</a>
- <a href="#comment-system">Comments</a>
- <a href="#updating">Updating</a>
- <a href="#conclusion">Conclusion</a>

---
<h2 id="intro">Introduction</h2>

Long story short, I moved from self-hosted WordPress to a static HTML site generated by Jekyll.

WordPress does it's job _really well._ I think there was some statistic _[citation needed]_ that showed nearly 30% of the Internet runs on WordPress in one form or another. That's a lot of the Internet.

But, because of ubiquity, there is a significant drawback: WordPress sites are prime targets for malicious code and hacking. A plugin on my site shows how many dozens (and sometimes hundreds!) of login attempts there have been. It's a battle to make sure security plugins are always up to date. That leads to other issues: incompatibility with plugins.

So, This entire blog - 2018 all the way back to 2010 - is a set of static HTML pages generated by Jekyll on my [Reclaim Hosting](https://reclaimhosting.com) server. No more logins, no more plugins to check and update. Just nice, clean, lightweight HTML.

It took me several weeks to work out the details for the migration. It wasn't too bad, but I learned some things along the way that I'd like to share here.

<h2 id="export">Exporting WordPress</h2>

Jekyll uses Markdown and YAML data to generate a website. It's quite clever how they pulled it all together, actually, to mimic a typical dynamic (database-driven) blog like WordPress. [There is a plugin](https://wordpress.org/plugins/jekyll-exporter/) which will export your WordPress blog formatted for Jekyll, _including_ all post metadata like tags, permalinks, and image resources. It gives you a .zip file which you can then extract and use to populate your new Jekyll site.

First, it extracts your _entire_ media library. WordPress automatically generates several files for each image you've uploaded for different display situations. My media folder was well over 300 MB because I didn't take the time to clean the library up. I'd suggest cleaning up any unused image files before the export.

Second, any pages you have on your site (not blog posts) get their own folder. Take time to go through each folder and make sure it'll fit the Jekyll file structure.

Finally, do a regular WordPress XML export so you have an entire backup of your blog. The Jekyll plugin only converts posts and pages. If you have other resources, you'll want to save them somewhere before deleting or redirecting your site.

<h2 id="hosting">Hosting</h2>

The great thing about Jekyll is that it is ready to go with GitHub Pages. If you're already using GitHub, you can go that route with your _username.github.io_ account with a single commit and push. I have a lot of traffic (humblebrag much?) to [blog.ohheybrian.com](https://blog.ohheybrian.com) already and I don't want to set up a redirect. I'm also already using my GitHub Pages site for my (web apps)[https://dev.ohheybrian.com]. You can map a custom domain to GitHub Pages, but _you cannot use HTTPS on that domain_, which was a dealbreaker for me.

Each web host is different, so you need to see if yours supports Ruby 2.4 or higher. Lucky for me, Tim Ownes from [Reclaim Hosting](https://reclaimhosting.com) already had [a blog post](https://blog.timowens.io/running-a-jekyll-site-on-reclaim-hosting/) on setting it up with my Reclaim account. I followed his instructions to the letter and got it working on the second try (I borked some theme and file structures on the first, so I deleted everyting and started over).

SSL is a big deal. If you don't know what it is, read [The Six Step "Happy Path" to SSL](https://www.troyhunt.com/the-6-step-happy-path-to-https/) by Troy Hunt (or anything else he writes, honestly).

<h2 id="comment-system">Comments</h2>

I don't get a _ton_ of comments, but with a static HTML site, there isn't an easy way to include comments. If you're hosting with Github Pages, [Staticman](https://staticman.net/) is an _awesome_ and secure way to include comments on your posts. Another option would be to use a third-party tool like Disqus. I didn't go with Disqus because they've had some trouble with clean use of user data in the past.

I decided to create a custom commenting form (based on [this post](https://css-tricks.com/building-a-jekyll-site-part-3-of-3/)) using [Firebase](https://www.firebase.com). It's a real-time database run by Google which can push information anywhere I want it to go. Each post has a query to the database to check for comments. Pushing the comments to the database is handled with a little bit of JavaScript, which I've modified from the linked tutorial:

<script src="https://gist.github.com/bennettscience/79fe1b569c4b0f6f14eb390240518aeb.js"></script>

Firebase also includes cloud functions that can be written in Node JS. I've never written any applications in Node, so this was a learning experience for me. This function watches the comment database and simply notifies me if a change has been made using the following script:

<script src="https://gist.github.com/bennettscience/cce8ca3906f2e2682bb8b31e32afb2f1.js"></script>

It could definitely use some refinement, but it does what I need it to do.

<h2 id="updating">Updating</h2>

Relying on an Internet connection to write a blog post seems so 2012. With Jekyll, I can write in any text editor and then upload when it's ready. If I'm on my main machine, I can even serve the page locally to see what the update will look like as if it were live on the web. It's a small perk, but as I've moved to working more and more with text files (rather than things like Google docs) it's nice to be able to open a blank text file and start writing. I can come back whenever I want and finish up or let it sit on the large pile of started-and-never-finished posts.

<h2 id="conclusion">Conclusion</h2>

In the end, this is a highly technical shift away from something built for the end user into something I have _absolute control_ over. If the blog breaks, it's my fault and I will have to work to fix it, which is satisfying in its own nerdy way. It's definitely not the easiest route to start (or continue) blogging, but it's mine, which is fulfilling.

If you'd like to know more about how to make a switch, feel free to try out that nifty commenting section below or just write me an email: [brian [at] ohheybrian [dot] com](mailto:brian@ohheybrian.com).

--

_Featured image is [Find your way](https://flickr.com/photos/maxschiffer/38579893751 "Find your way") flickr photo by [maximilianschiffer](https://flickr.com/people/maxschiffer) shared under a [Creative Commons (BY-ND) license](https://creativecommons.org/licenses/by-nd/2.0/)_
